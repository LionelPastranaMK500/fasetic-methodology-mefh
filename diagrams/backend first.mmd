flowchart LR
    %% Configuración de Estilos Profesionales
    classDef disparador fill:#451a03,stroke:#f59e0b,stroke-width:2px,color:#fef3c7
    classDef cicloBE fill:#064e3b,stroke:#10b981,stroke-width:2px,color:#f8fafc
    classDef cicloFE fill:#1e3a8a,stroke:#60a5fa,stroke-width:2px,color:#f8fafc

    subgraph MEFH_BE_First [VECTOR: BACKEND-FIRST]
        direction LR

        %% Flujo Maestro Lineal
        B1[F1: BASE DE DATOS] --> B2[F2: CONTRATOS]
        B2 --> B3[F3: LÓGICA]
        B3 --> B4[F4: API / COMUNICACIÓN]
        
        %% El Backend entrega al Frontend
        B4 ==> F1[F1: ESPEJO]
        
        F1 --> F2[F2: COMUNICACIÓN]
        F2 --> F3[F3: LÓGICA UI]
        F3 --> F4[F4: CONSTRUCCIÓN UI]
    end

    %% Nota fuera del flujo principal
    NotaLineal[Nota: En este vector, la interfaz es una consecuencia técnica de la capacidad del sistema.]

    %% Asignación de Clases
    class B1 disparador
    class B2,B3,B4 cicloBE
    class F1,F2,F3,F4 cicloFE
    style NotaLineal fill:#1e293b,stroke:#94a3b8,stroke-dasharray: 5 5,color:#cbd5e1